number-mappers = 4
number-reducers = 4

akka {
  actor {
    provider = cluster
    warn-about-java-serializer-usage = false
  }
  # The way without bootstrap
//  remote {
//    netty.tcp {
//      hostname = "127.0.0.1"
//      port = 0
//    }
//    artery {
//      enabled = on
//      canonical.hostname = "127.0.0.1"
//      canonical.port = 0
//    }
//  }
  cluster {
    # the way without bootstrap, seed-nodes must be defined
//    seed-nodes = [
//      "akka://ClusterSystem@127.0.0.1:2551",
//      "akka://ClusterSystem@127.0.0.1:2552"]

    # auto downing is NOT safe for production deployments.
    # you may want to use it during development, read more about it in the docs.
//    auto-down-unreachable-after = 10s
//    shutdown-after-unsuccessful-join-seed-nodes = 40s
  }

  discovery {
    # pick the discovery method you'd like to use:
    method = akka-dns
  }

  management {
    http {
      port = 8558
    }

    cluster.bootstrap {

      contact-point-discovery {
        service-name = "appka-service"
        service-namespace = "default.svc.cluster.local"
        stable-margin = 10 seconds
      }

      contact-point {
        # currently this port HAS TO be the same as the `akka.management.http.port`
        # it would not have to be once we implement the SRV record watching, since then we could potentially
        # get the ports from the DNS records.
        fallback-port = 8558
      }
    }
  }

}
